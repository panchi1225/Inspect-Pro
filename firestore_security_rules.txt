// Firestore Security Rules - 社内専用Web版
// Firebase Consoleで以下のルールを設定してください

rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    
    // マスタデータ（現場名・点検者名・会社名）
    match /sites/{siteId} {
      allow read: if true;  // 全員が読み取り可能
      allow write: if true; // 全員が書き込み可能（社内専用のため）
    }
    
    match /inspectors/{inspectorId} {
      allow read: if true;
      allow write: if true;
    }
    
    match /companies/{companyId} {
      allow read: if true;
      allow write: if true;
    }
    
    // 重機マスタ
    match /machines/{machineId} {
      allow read: if true;
      allow write: if true;
    }
    
    // 点検項目テンプレート
    match /machineTypes/{typeId} {
      allow read: if true;
      allow write: if true;
      
      // サブコレクション: 点検項目
      match /items/{itemId} {
        allow read: if true;
        allow write: if true;
      }
    }
    
    // 点検記録
    match /inspections/{inspectionId} {
      allow read: if true;
      allow write: if true;
    }
    
    // その他のコレクションも同様
    match /{document=**} {
      allow read: if true;
      allow write: if true;
    }
  }
}
